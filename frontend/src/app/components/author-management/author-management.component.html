<div class="dashboard-container">
    <div *ngIf="loading" class="loading-overlay">
        <div class="spinner"></div>
    </div>

    <section class="hero-section">
        <h2>‚úçÔ∏è Qu·∫£n l√Ω T√°c Gi·∫£</h2>
        <p class="subtitle">Th√™m, s·ª≠a, x√≥a th√¥ng tin t√°c gi·∫£ v√† ti·ªÉu s·ª≠</p>
    </section>

    <div *ngIf="successMessage" class="alert alert-success">‚úÖ {{ successMessage }}</div>
    <div *ngIf="errorMessage" class="alert alert-error">‚ö†Ô∏è {{ errorMessage }}</div>

    <section class="glass-card form-section">
        <h3>‚ûï Th√™m T√°c Gi·∫£ M·ªõi</h3>
        <form [formGroup]="authorForm" (ngSubmit)="onSubmit()">
            <div class="form-grid">
                <div class="form-group">
                    <label>H·ªç t√™n *</label>
                    <input formControlName="fullName" class="form-control" />
                </div>
                <div class="form-group">
                    <label>Qu·ªëc t·ªãch *</label>
                    <input formControlName="nationality" class="form-control" />
                </div>
                <div class="form-group span-2">
                    <label>Ti·ªÉu s·ª≠</label>
                    <textarea formControlName="biography" class="form-control" rows="3"></textarea>
                </div>
                <div class="form-group span-2">
                    <label>Website</label>
                    <input formControlName="website" class="form-control" />
                </div>
            </div>
            <button type="submit" class="btn btn-primary" [disabled]="loading">‚ú® Th√™m</button>
        </form>
    </section>

    <section class="glass-card table-section">
        <h3>üìù Danh s√°ch ({{ authors.length }})</h3>
        <table *ngIf="authors.length > 0">
            <thead>
                <tr>
                    <th>H·ªç t√™n</th>
                    <th>Qu·ªëc t·ªãch</th>
                    <th>Ti·ªÉu s·ª≠</th>
                    <th>Website</th>
                    <th>H√†nh ƒë·ªông</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let author of authors">
                    <ng-container *ngIf="editingId !== author.id; else editMode">
                        <td><strong>{{ author.fullName }}</strong></td>
                        <td>{{ author.nationality }}</td>
                        <td>{{ (author.biography || '-') | slice:0:50 }}...</td>
                        <td>{{ author.website || '-' }}</td>
                        <td>
                            <button class="btn-icon btn-edit" (click)="startEdit(author)">‚úèÔ∏è</button>
                            <button class="btn-icon btn-delete" (click)="deleteAuthor(author.id)">üóëÔ∏è</button>
                        </td>
                    </ng-container>
                    <ng-template #editMode>
                        <td colspan="5">
                            <form [formGroup]="editForm" (ngSubmit)="saveEdit(author)" class="edit-form">
                                <input formControlName="fullName" placeholder="T√™n" class="form-control-sm" />
                                <input formControlName="nationality" placeholder="Qu·ªëc t·ªãch" class="form-control-sm" />
                                <button type="submit" class="btn-icon">‚úÖ</button>
                                <button type="button" class="btn-icon" (click)="cancelEdit()">‚ùå</button>
                            </form>
                        </td>
                    </ng-template>
                </tr>
            </tbody>
        </table>
        <div *ngIf="authors.length === 0" class="empty-state">
            <p>Ch∆∞a c√≥ t√°c gi·∫£</p>
        </div>
    </section>
</div>
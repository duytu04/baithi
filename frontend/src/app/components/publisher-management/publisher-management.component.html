<div class="dashboard-container">
    <div *ngIf="loading" class="loading-overlay">
        <div class="spinner"></div>
    </div>

    <section class="hero-section">
        <h2>üè¢ Qu·∫£n l√Ω Nh√† Xu·∫•t B·∫£n</h2>
        <p class="subtitle">Th√™m, s·ª≠a, x√≥a th√¥ng tin nh√† xu·∫•t b·∫£n</p>
    </section>

    <div *ngIf="successMessage" class="alert alert-success">‚úÖ {{ successMessage }}</div>
    <div *ngIf="errorMessage" class="alert alert-error">‚ö†Ô∏è {{ errorMessage }}</div>

    <!-- Add Form -->
    <section class="glass-card form-section">
        <h3>‚ûï Th√™m Nh√† Xu·∫•t B·∫£n M·ªõi</h3>
        <form [formGroup]="publisherForm" (ngSubmit)="onSubmit()">
            <div class="form-grid">
                <div class="form-group">
                    <label>T√™n NXB *</label>
                    <input formControlName="name" class="form-control" [class.error]="isFieldInvalid('name')" />
                </div>
                <div class="form-group">
                    <label>ƒê·ªãa ch·ªâ</label>
                    <input formControlName="address" class="form-control" />
                </div>
                <div class="form-group">
                    <label>Website</label>
                    <input formControlName="website" class="form-control" [class.error]="isFieldInvalid('website')" />
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input formControlName="email" class="form-control" [class.error]="isFieldInvalid('email')" />
                </div>
                <div class="form-group">
                    <label>ƒêi·ªán tho·∫°i</label>
                    <input formControlName="phone" class="form-control" />
                </div>
            </div>
            <button type="submit" class="btn btn-primary" [disabled]="loading">‚ú® Th√™m</button>
        </form>
    </section>

    <!-- List -->
    <section class="glass-card table-section">
        <h3>üìö Danh s√°ch ({{ publishers.length }})</h3>
        <table *ngIf="publishers.length > 0">
            <thead>
                <tr>
                    <th>T√™n</th>
                    <th>ƒê·ªãa ch·ªâ</th>
                    <th>Website</th>
                    <th>Email</th>
                    <th>ƒêi·ªán tho·∫°i</th>
                    <th>H√†nh ƒë·ªông</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let pub of publishers">
                    <ng-container *ngIf="editingId !== pub.id; else editMode">
                        <td><strong>{{ pub.name }}</strong></td>
                        <td>{{ pub.address || '-' }}</td>
                        <td>{{ pub.website || '-' }}</td>
                        <td>{{ pub.email || '-' }}</td>
                        <td>{{ pub.phone || '-' }}</td>
                        <td>
                            <button class="btn-icon btn-edit" (click)="startEdit(pub)">‚úèÔ∏è</button>
                            <button class="btn-icon btn-delete" (click)="deletePublisher(pub.id)">üóëÔ∏è</button>
                        </td>
                    </ng-container>
                    <ng-template #editMode>
                        <td colspan="6">
                            <form [formGroup]="editForm" (ngSubmit)="saveEdit(pub)" class="edit-form">
                                <input formControlName="name" placeholder="T√™n" class="form-control-sm" />
                                <input formControlName="address" placeholder="ƒê·ªãa ch·ªâ" class="form-control-sm" />
                                <input formControlName="website" placeholder="Website" class="form-control-sm" />
                                <input formControlName="email" placeholder="Email" class="form-control-sm" />
                                <input formControlName="phone" placeholder="ƒêT" class="form-control-sm" />
                                <button type="submit" class="btn-icon">‚úÖ</button>
                                <button type="button" class="btn-icon" (click)="cancelEdit()">‚ùå</button>
                            </form>
                        </td>
                    </ng-template>
                </tr>
            </tbody>
        </table>
        <div *ngIf="publishers.length === 0" class="empty-state">
            <p>Ch∆∞a c√≥ nh√† xu·∫•t b·∫£n</p>
        </div>
    </section>
</div>